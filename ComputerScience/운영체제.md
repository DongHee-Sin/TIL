# 운영체제

### 운영체제(Operating System)
* 사용자가 컴퓨터를 쉽게 다룰 수 있게 해주는 인터페이스를 제공한다.
* 한정된 메모리나 시스템 자원을 효율적으로 분배한다.
* 운영체제는 시스템 소프트웨어로, 하드웨어와 소프트웨어를 관리한다.

<br/>

### 펌웨어(firmware)
* 특정 하드웨어 장치에 포함된 소프트웨어로, 소프트웨어를 추가로 설치할 수 없다. (출시 후 기능을 확장할 수 없다.)
* 일반적으로 ROM 메모리에 기록된다.
* 펌웨어는 보통 시스템 소프트웨어로 구분하지만, 대부분의 가전제품에 탑재되는 단순한 펌웨어는 응용 프로그램의 역할까지 수행하는 경우가 많다.

<br/>

### 임베디드 운영체제
* MP3 플레이어, 내비게이션, 스마스 워치 등 CPU의 성능이 낮고, 메모리 크기도 작은 시스템에 내장하기 위해 만들어진 운영체제를 말한다.
* 임베디드 운영체제는 펌웨어와 다르게 출시 후 소프트웨어를 추가로 설치할 수 있다.

<br/>
<br/>

---

<br/>
<br/>

## 운영체제의 역할
* **CPU 스케줄링과 프로세스 관리** : CPU 소유권(시간)을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 시스템 자원의 할당 및 반환을 관리한다.
* **메모리 관리** : 한정된 메모리를 어떤 프로세스에 얼마나 할당할지 관리한다.
* **자원 보호** : 악의적인 사용자 또는 미숙한 사용자로부터 컴퓨터 자원을 보호한다.
* **디스크 파일 관리** : 디스크 파일을 어떤 방법으로 보관할지 관리한다. (사용자가 직접 하드디스크의 특정 위치에 데이터를 저장하는게 아닌 OS에게 데이터 저장을 위임)
* **I/O 디바이스 관리** : 마우스, 키보드 등의 입출력장치와 컴퓨터 간에 데이터 통신을 관리한다.

<br/>

---

<br/>

## 운영체제의 구조
![운영체제 구조](/image/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C%20%EA%B5%AC%EC%A1%B0.png)
### GUI, 시스템콜, 커널, 드라이버 부분을 운영체제라고 하며, GUI가 없고 CUI만 있는 리눅스 서버도 있다.

> **GUI** : 그래픽 유저 인터페이스의 줄임말로, 사용자가 전자장치와 상호 작용할 수 있도록 하는 인터페이스를 그래픽으로 구성하여 쉽게 사용할 수 있도록 한 것이다.<br/><br/>
> **CUI** : 그래픽이 아닌 명령어로 처리하는 인터페이스<br/><br/>
> **드라이버** : 하드웨어를 제어하기 위한 소프트웨어

<br/>
<br/>

### 커널
* 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제 핵심 기능을 모아놓은 것을 말한다.
* 시스템 콜 인터페이스를 제공한다.
* 운영체제의 성능은 커널이 좌우한다.


<br/>
<br/>

### 시스템 콜
* 커널이 제공하는 시스템 자원의 사용과 연관된 함수이다.
* 응용 프로그램이 하드웨어 자원에 접근하거나 운영체제가 제공하는 서비스를 이용하기 위해 커널 함수를 호출할 때 사용한다.
* 운영체제는 커널이 제공하는 서비스를 시스템 콜로 제한하고, 다른 방법으로 커널에 들어오지 못하게 막음으로써 컴퓨터 자원을 보호한다.
* 시스템 콜은 커널이 제공하는 서비스를 이용하기 위한 인터페이스로, 사용자가 자발적으로 커널 영역에 진입할 수 있는 유일한 수단이다.

<br/>

**Ex)** 유저 프로그램이 I/O 요청으로 트랩(trap)을 발동하면 올바른 요청인지 확인한 후 **유저 모드**가 시스템 콜을 통해 **커널 모드**로 변환되어 실행된다. 이때 유저 모드에서는 파일을 읽지 않고, 커널 모드로 들어가 파일을 읽은 후 유저 모드로 돌아가서 그 뒤에 있는 유저 프로그램의 로직을 수행한다. 이런 과정을 통해 컴퓨터 자원에 대한 직접 접근을 차단하고, 컴퓨터 자원을 보호할 수 있다.
> **I/O 요청** : 입출력 함수, 데이터베이스, 네트워크, 파일 접근 등에 관련된 일 <br/><br/>
> **트랩(trap)** : 어떤 프로세스가 특정 시스템 기능을 사용하려고 할 때 그 기능을 운영체제에게 요청하는 방법을 말한다.<br/>
[인터럽트와 트랩](https://co-dong.tistory.com/55)

<br/>
<br/>

### modebit
* 유저 모드와 커널 모드를 구분하기 위한 값으로, 1 또는 0의 값을 가지는 플래그 변수이다.
* modebit의 0은 커널 모드, 1은 유저 모드라고 설정되며, 유저 모드인 경우 시스템콜을 못하게 막아서 한정된 일만 가능하게 한다.
* 유저 프로그램에서 카메라, 키보드와 같은 자원을 사용하기 위해서는 시스템콜을 호출하여 modebit을 0으로 변경한 후 커널 모드에서만 해당 자원을 사용할 수 있다.

> **유저 모드** : 유저가 접근할 수 있는 영역을 제한적으로 두어 컴퓨터 자원에 함부로 접근할 수 없도록 하는 모드 <br/><br/>
> **커널 모드** : 모든 컴퓨터 자원에 접근할 수 있는 모드